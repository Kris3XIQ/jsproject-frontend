## Project-frontend

Till min frontend har jag valt att använda mig av React, detta då det är de ramverket jag har arbetat med genomgående genom kursens gång och jag tycker det har fungerat kalas. Diverse komponenter finns att hitta under componenets/Root och är uppdelade under respektive användningsområde. Statiska filer ligger under static och css style under style. Delade väl upp det på det sättet då jag gillar att ha en ordentlig strutkur på mina grejor, var sak på sin plats. Vidare till teknikerna jag använt mig av i min frontend.
För att få en grafisk representation av mina "aktie-priser" använder jag miv av paketet "react-chartjs-2". Jag provade först att använda mig av Rickshaw men det ville sig inte alls utan det uppstod en massa problem. Efter ett par dagars finurlande så behövde jag göra en avvägning, om det var värt att fortsätta strula vidare med Rickshaw eller om jag istället borde prova något annat paket. Jag valde då att prova ett annat paket och fick efter lite research fram att "react-chartjs-2" skulle vara ett väldigt bra paket med en smidig implementation till en React app. Per instruktionerna på deras npmjs sida så skapar jag chart.js som en dependency så att jag kan använda mig av 2.x versioner av paketet. Efter att ha importerat Line från react-chartjs i min chart.js gör jag en default export på min Chart som jag sedan kan implementera i min Graph komponent. Jag börjar i min Graph.js att importera Chart från chart.js och börjar sedan med att sätta en höjd på min chart-container till 400px. I samma fil bygger jag sedan min Graph klass som extendar React.Component, här följer jag sedan instruktionerna kring uppbyggnaden av Graph state, där jag bygger upp hur min rendering av grafen ska se ut. Jag vill använda mig av svenska kr, så jag har t.ex. satt label till "Price(SEK)" samt att sätta bakgrundsfärgen på grafen till rgba(0, 0, 0, 0), alltså en helt transparent bakgrund för att passa färgtemat på resten av appen. När jag har satt en state på min graf så väljer jag att under en typisk React funktion "componentDidMount" att ta kontakt med min socket på backenden för att hämta diverse data som jag sedan kan måla ut på grafen. Jag gör med hjälp av en "this.socket.emit("set game", (game))" ett anrop på socketen på backenden, där jag med hjälp av 'game' variabeln ser till att backenden skickar data från rätt spelaktie. Jag går vidare in på funktionaliteten kring socketen på backenden under mitt backendrepo. Min "set game" emmit från frontenden kommer då att trigga igång en interval på backenden som skickar ut ett "message" var femte sekund med aktiedata. Frontenden känner då av: this.socket.on("message")" och börjar att pusha på datan som genereras var femte sekund på den gamla graf-datan, vilekt leder till en, enligt min mening, en snygg grafisk representation av aktiepriset. Jag har även valt att implementera en färgkodad text, antingen röd(sänkning) eller grön(ökning) av akiepriset. Funktionen "comparePrice()" gör en jämförelse på det nyligen inkomna priset mot priset på föregående tick och returnerar sedan en div med ett p element som ges antingen color: green eller color: red. Enligt kravspecen så ska det inte heller att gå att köpa aktier ifall användaren inte är inloggad, vilket även ledde till att jag gjorde en "verifyUser". Checken görs på min rendering av sidan, där jag kallar på funktionen med hjälp av 'this.verifyUser()'. Vid inloggning sätts localStorage("user"), något som jag hämtar info från vid min verifyUser. Ifall window.localStorage.getItem("user") inte är satt så kommer min if sats: if(!user) triggas och generera en prompt att logga in för att köpa aktier, annars i min else: rendera ut alternativa att köpa vald aktie. Jag valde att göra det på det sättet då det är har fungerat bra under kursens gång i tidigare kursmoment att göra på det viset. Vid utloggning så clearas sedan localStorage.
**Avslutande ord**
Alla funktioner som använder sig av databasen på backenden (mer om min databas i min backend README) ligger under services och gör diverse fetches mot mitt API. Dessa funktioner exporterar jag sedan och importerar sedan till diverse komponenter. Återigen så valde jag väl att göra det på sättet då jag tycker att det blir en bättre struktur att ha varsin sak på sin plats. 
Utöver grafen som var helt ny inför projektet så var det väldigt mycket kod som kunde återanvändas från tidigare kursmoment, precis som även nämndes i föreläsningsvideon inför projektet. De teknikerna jag har använt mig av i tidigare kursmoment har fungerat bra tycker jag, vilket även ledde till att jag byggde vidare på det här, men som sagt, inga större förändringar att rapportera där förutom då grafen som blev ett nytt tillägg inför projektet. Jag har förklarat implementationen här ovan men har jag missat något så tar jag upp det i min föreläsningsvideo/föreläsningstext.
